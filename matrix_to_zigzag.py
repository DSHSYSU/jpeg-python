import numpy as np
def m2z(M):
    # 把8x8的矩阵化为长为64的zigzag
    zigzag = np.zeros(64)
    zigzag[0] = M[0,0]
    zigzag[1] = M[0,1]
    zigzag[2] = M[1,0]
    zigzag[3] = M[2,0]
    zigzag[4] = M[1,1]
    zigzag[5] = M[0,2]
    zigzag[6] = M[0,3]
    zigzag[7] = M[1,2]
    zigzag[8] = M[2,1]
    zigzag[9] = M[3,0]
    zigzag[10] = M[4,0]
    zigzag[11] = M[3,1]
    zigzag[12] = M[2,2]
    zigzag[13] = M[1,3]
    zigzag[14] = M[0,4]
    zigzag[15] = M[0,5]
    zigzag[16] = M[1,4]
    zigzag[17] = M[2,3]
    zigzag[18] = M[3,2]
    zigzag[19] = M[4,1]
    zigzag[20] = M[5,0]
    zigzag[21] = M[6,0]
    zigzag[22] = M[5,1]
    zigzag[23] = M[4,2]
    zigzag[24] = M[3,3]
    zigzag[25] = M[2,4]
    zigzag[26] = M[1,5]
    zigzag[27] = M[0,6]
    zigzag[28] = M[0,7]
    zigzag[29] = M[1,6]
    zigzag[30] = M[2,5]
    zigzag[31] = M[3,4]
    zigzag[32] = M[4,3]
    zigzag[33] = M[5,2]
    zigzag[34] = M[6,1]
    zigzag[35] = M[7,0]
    zigzag[36] = M[7,1]
    zigzag[37] = M[6,2]
    zigzag[38] = M[5,3]
    zigzag[39] = M[4,4]
    zigzag[40] = M[3,5]
    zigzag[41] = M[2,6]
    zigzag[42] = M[1,7]
    zigzag[43] = M[2,7]
    zigzag[44] = M[3,6]
    zigzag[45] = M[4,5]
    zigzag[46] = M[5,4]
    zigzag[47] = M[6,3]
    zigzag[48] = M[7,2]
    zigzag[49] = M[7,3]
    zigzag[50] = M[6,4]
    zigzag[51] = M[5,5]
    zigzag[52] = M[4,6]
    zigzag[53] = M[3,7]
    zigzag[54] = M[4,7]
    zigzag[55] = M[5,6]
    zigzag[56] = M[6,5]
    zigzag[57] = M[7,4]
    zigzag[58] = M[7,5]
    zigzag[59] = M[6,6]
    zigzag[60] = M[5,7]
    zigzag[61] = M[6,7]
    zigzag[62] = M[7,6]
    zigzag[63] = M[7,7]
    return zigzag